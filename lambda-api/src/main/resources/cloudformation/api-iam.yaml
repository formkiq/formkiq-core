#@ load("@ytt:data", "data")
#@ load("@ytt:assert", "assert")
#@ load("@ytt:overlay", "overlay")
#@overlay/match by=overlay.all
---
Resources:

  #@overlay/match missing_ok=True
  DocumentsIamApi:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      FailOnWarnings: "true"
      Body:
        openapi: "3.0.1"
        info:
          title:
            Fn::Sub: "${AWS::StackName} IAM API - ${AppEnvironment}"
          contact:
            name: FormKiQ
            url: https://formkiq.com
            email: support@formkiq.com
          x-logo:
            url: https://docs.formkiq.com/docs/latest/_images/formkiq-logo.png
            backgroundColor: "#FFFFFF"
            altText: "FormKiQ Logo"
          license:
            name: Apache 2.0
            url: https://www.apache.org/licenses/LICENSE-2.0.html
          description: |-
            Formkiq API: Document Management Platform API using OAuth(JWT) Authentication

            You can find out more about FormKiQ at [https://formkiq.com](http://formkiq.com).

            ## Introduction
            
            FormKiQ is an API-first (head-less), battle-tested document management API. The FormKiQ API provides all the API endpoints to build your Perfect Document Management Platform.

            FormKiQ API was built on top of [OpenAPI specification](https://www.openapis.org), so it is easy to use the API spec file with any application that supports the OpenAPI specification.

            Open API OAuth Specification - https://raw.githubusercontent.com/formkiq/formkiq-core/master/docs/openapi/openapi-jwt.yaml

            Open API IAM Specification - https://raw.githubusercontent.com/formkiq/formkiq-core/master/docs/openapi/openapi-iam.yaml

            ## Authentication
            FormKiQ offers three forms of authentication:
              - OAuth(JWT)
              - AWS IAM
              - API Key
          version: #@ data.values.version or assert.fail("missing version")
        tags:
          - name: documents
            description: API for the add, updating and fetching of documents
            x-displayName: Documents
          - name: documentTags
            description: API for the add, updating and fetching of document tags
            x-displayName: Document Tags
          - name: documentSearch
            description: API for searching for documents
            x-displayName: Document Search
          - name: systemManagement
            description: System Management API
            x-displayName: System Management
          - name: advancedDocumentSearch
            description: Advanced Document Search API
            x-displayName: Advanced Document Search
          - name: documentActions
            description: Document Actions API
            x-displayName: Document Actions
          - name: documentOCR
            description: Document OCR API
            x-displayName: Document OCR
          - name: documentVersions
            description: Document Versions API
            x-displayName: Document Versions
          - name: documentFolders
            description: Document Folders API
            x-displayName: Document Folders
          - name: documentShares
            description: Document Shares API
            x-displayName: Document Shares
          - name: tagSchema
            description: Tag Schema API
            x-displayName: Tag Schema
          - name: antivirus
            description: Antivirus API
            x-displayName: Antivirus
          - name: public
            description: Public API Endpoints
            x-displayName: Public Endpoints
          - name: webhooks
            description: Webhooks API
            x-displayName: Webhooks
          - name: onlyoffice
            description: Onlyoffice API
            x-displayName: Onlyoffice
          - name: e-signature
            description: E-Signature API
            x-displayName: E-Signature
          - name: Application
            x-amazon-apigateway-tag-value: "FormKiQ"
          - name: AppEnvironment
            x-amazon-apigateway-tag-value:
              Fn::Sub: "${AppEnvironment}"
        servers:
          - url: http://localhost
            description: Local development server
        paths:

          /version:
            get:
              operationId: GetVersion
              summary: Get FormKiQ version
              description: Return the version of FormKiQ
              tags:
              - System Management
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetVersionResponse"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /sites:
            get:
              operationId: GetSites
              description: Returns the list of sites that the user has access to
              summary: Get site(s) access
              tags:
              - System Management
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetSitesRequest"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /configuration:
            get:
              operationId: GetConfigs
              description: Returns the list of sites that the user has access to
              summary: Get site configuration
              tags:
              - System Management
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetConfigurationResponse"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            patch:
              operationId: UpdateConfig
              description: Update the System Management configuration
              summary: Update site configuration 
              tags:
              - System Management
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/SetConfigRequest'
                    examples:
                      Config:
                        value:
                          chatGptApiKey: "ABC"
                          maxContentLengthBytes: "1000000"
                          maxDocuments: "1000"
                          maxWebhooks: "10"
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/SetConfigResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /configuration/apiKeys:
            get:
              operationId: GetApiKeys
              description: Returns the list of ApiKeys
              summary: Get API Keys
              tags:
              - System Management
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetApiKeysResponse"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddApiKey
              description: Adds a new API Key
              summary: Add API Key
              tags:
              - System Management
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddApiKeyRequest'
                    examples:
                      AddApiKey:
                        value:
                          name: My API Key
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddApiKeyResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /configuration/apiKeys/{apiKey}:
            delete:
              operationId: DeleteApiKey
              description: Adds a new API Key
              summary: Delete API Key
              tags:
              - System Management
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/apiKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DeleteApiKeyResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents:
            get:
              operationId: GetDocuments
              tags:
              - Documents
              description: Returns a list of the most recent documents added, ordered by inserted, descending
              summary: Get Documents listing
              parameters:
              - name: "date"
                in: "query"
                description: "Fetch documents inserted on a certain date (yyyy-MM-dd)"
                schema:
                  type: "string"
              - name: "tz"
                in: "query"
                description: "UTC offset to apply to date parameter (IE: -0600)"
                schema:
                  type: "string"
              - name: "next"
                in: "query"
                description: "Next page of results token"
                schema:
                  type: "string"
              - name: "previous"
                in: "query"
                description: "Previous page of results token"
                schema:
                  type: "string"
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/limitParam'
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetDocumentsResponse"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddDocument            
              description: Creates a new document; body may include document content if less than 5 MB
              summary: Add new document
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentRequest'
                    examples:
                      Simple_File:
                        value:
                          path: test.txt
                          contentType: text/plain
                          isBase64: false
                          content: This is sample data file
                          tags:
                            - key: category 
                              value: sample
                            - key: players 
                              values: ["111", "222"]
                          metadata:
                            - key: info 
                              value: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                      Child_Document:
                        value:
                          path: doc1.txt
                          contentType: text/plain
                          content: This is document1 content
                          tags:
                            - key: type
                              value: document1
                          documents:
                            contentType: text/plain,
                            content: This is child document1 content,
                            tags:
                              - key: type
                                value: childdocument1
                      Document_with_Webhook:
                        value:
                          path: test.txt
                          contentType: text/plain
                          isBase64: false
                          content: This is sample data file
                          actions:
                            - type: webhook 
                              parameters:
                                url: <callback_url>
              responses:
                '201':
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddDocumentResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /documents/{documentId}:
            get:
              operationId: GetDocument
              summary: Get document
              description: Retrieves a document's details, i.e., metadata
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            patch:
              operationId: UpdateDocument
              summary: Update document
              description: Update a document's details, i.e., metadata
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentRequest'
                    examples:
                      Simple_File:
                        value:
                          path: test.txt
                          contentType: text/plain
                          isBase64: false
                          content: This is sample data file
                          tags:
                            - key: category 
                              value: sample
                            - key: players 
                              values: ["111", "222"]
                          metadata:
                            - key: info 
                              value: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddDocumentResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            delete:
              operationId: DeleteDocument
              summary: Delete document
              description: Delete a document
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/{documentId}/content:
            get:
              operationId: GetDocumentContent
              summary: Get document's contents
              description: Get a document's contents. Certain content types, text/*, application/json, and application/x-www-form-urlencoded. return the  "content" field, while all other content types return a 'contentUrl' for retrieving the content.
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/versionKeyParam'
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                    Location:
                      $ref: '#/components/headers/Location'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentContentResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/{documentId}/tags:
            get:
              operationId: GetDocumentTags
              summary: Get document's tags
              description: Get a listing of a document's tags
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/limitParam'
              - $ref: '#/components/parameters/shareKeyParam'
              - $ref: '#/components/parameters/nextParam'
              - name: previous
                in: query
                description: "Previous page of results token"
                schema:
                  type: string
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentTagsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddDocumentTags
              summary: Add tag to document
              description: Add multiple tags to a document; this endpoint also accepts a different body parameter for adding a single tag
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentTagsRequest'
                    examples:
                      Add_Key_Only_Tag:
                        value:
                          key: category
                      Add_Key_and_Value_Tag:
                        value:
                          key: category
                          value: person
                      Add_Key_and_Values_Tag:
                        value:
                          key: category
                          values: [person,canadian]
              responses:
                '201':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
            patch:
              operationId: UpdateDocumentTags
              summary: Update document tags
              description: Updates multiple tags to a document; this endpoint also accepts a different body parameter for updating a single tag
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentTagsRequest'
                    examples:
                      Add_Key_Only_Tag:
                        value:
                          tags:
                            - key: category 
                      Add_Key_and_Value_Tag:
                        value:
                          tags:
                            - key: category 
                              value: sample
                      Add_Key_and_Values_Tag:
                        value:
                          tags:
                            - key: players 
                              values: ["111", "222"]
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            put:
              operationId: SetDocumentTags
              summary: Set document's tags
              description: Set multiple tags to a document; this endpoint also accepts a different body parameter for setting a single tag
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentTagsRequest'
                    examples:
                      Add_Key_Only_Tag:
                        value:
                          tags:
                            - key: category 
                      Add_Key_and_Value_Tag:
                        value:
                          tags:
                            - key: category 
                              value: sample
                      Add_Key_and_Values_Tag:
                        value:
                          tags:
                            - key: players 
                              values: ["111", "222"]
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/{documentId}/tags/{tagKey}:
            get:
              operationId: GetDocumentTag
              summary: Get document tag by key
              description: Get a document tag by using its key
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/tagkeyParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentTagResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            put:
              operationId: SetDocumentTag
              summary: Update document tag value(s)
              description: Update any and all values of a document tag, by using its key; you can supply one tag value or a list of tag values in the request body
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/tagkeyParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/SetDocumentTagKeyRequest'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            delete:
              operationId: DeleteDocumentTag
              summary: Delete document tag
              description: Delete a document tag by using its key
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/tagkeyParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/{documentId}/tags/{tagKey}/{tagValue}:
            delete:
              operationId: DeleteDocumentTagAndValue
              summary: Delete document's tag value
              description: Delete a specific document tag's key/value combination; the request will be ignored if there is no valid key/value combination found
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/tagkeyParam'
              - $ref: '#/components/parameters/tagvalueParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/tags:
            patch:
              operationId: UpdateMatchingDocumentTags
              summary: Mass Update document tag(s) 
              description: This API request allows the adding/updating of multiple document tag(s) based on document(s) that have the matching tag.
              tags:
              - Document Tags
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/UpdateMatchingDocumentTagsRequest'
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/UpdateMatchingDocumentTagsResponse"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/{documentId}/url:
            get:
              operationId: GetDocumentUrl
              summary: Get document content url
              description: Returns a URL for the document's contents; this URL will expire (the default is 48 hours)
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/versionKeyParam'
              - $ref: '#/components/parameters/durationParam'
              - $ref: '#/components/parameters/shareKeyParam'
              - name: "inline"
                in: "query"
                description: "Set the Content-Disposition to inline"
                schema:
                  type: boolean
                  default: false
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentUrlResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/upload:
            get:
              operationId: GetDocumentUpload
              summary: Get url to add large document 
              description: Returns a URL that can be used to upload document content and create a new document; this endpoint (whether GET or POST) is required in order to add content that is larger than 5 MB
              tags:
              - Documents
              parameters:
                - name: path
                  in: query
                  description: The upload file's path
                  schema:
                    type: string
                - $ref: '#/components/parameters/siteIdParam'
                - $ref: '#/components/parameters/contentLengthParam'
                - $ref: '#/components/parameters/durationParam'
                - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentUrlResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddDocumentUpload
              summary: Add large document
              description: Returns a URL that can be used to upload document content and create a new document, while allowing metadata to also be sent; this endpoint (whether GET or POST) is required in order to add content that is larger than 5 MB
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/contentLengthParam'
              - $ref: '#/components/parameters/durationParam'
              - $ref: '#/components/parameters/shareKeyParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentUploadRequest'
                    examples:
                      Simple_File:
                        value:
                          path: test.txt
                          contentType: text/plain
                          isBase64: false
                          content: This is sample data file
                          tags:
                            - key: category 
                              value: sample
                            - key: players 
                              values: ["111", "222"]
                          metadata:
                            - key: info 
                              value: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              responses:
                '201':
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentUrlResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /documents/{documentId}/upload:
            get:
              operationId: GetDocumentIdUpload
              summary: Get url to update large document
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/contentLengthParam'
              - $ref: '#/components/parameters/durationParam'
              - $ref: '#/components/parameters/shareKeyParam'
              description: Returns a URL that can be used to upload documents for a specific documentId; this endpoint is required in order to add content that is larger than 5 MB. If versions are enabled, this will create a new version of the document.
              tags:
              - Documents
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentUrlResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/compress:
            post:
              operationId: CompressDocuments
              summary: Compress multiple documents into a .zip file
              parameters:
                - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/DocumentsCompressRequest'
              description: |-
                Compress documents into an .ZIP archive file, and returns a S3 presigned url for the location of the archive file. The operation is async and processing time depends on the number and size of documents included; a 404 status code is returned until the file is ready.
              tags:
                - Documents
              responses:
                "201":
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                      $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                      $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DocumentsCompressResponse'
              security:
                - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: '#/components/x-amazon-apigateway-integrations/lambdaApi201'
          /search:
            post:
              operationId: DocumentSearch
              summary: Document search
              description: Document search query request; documents are searched primarily using a document tag key and optional tag value, or if Typesense is enabled, searches on the document path and versioned metadata is also available. An optional documentIds parameter is also available in the DocumentSearchBody to filter, with up to 100 documentIds accepted.
              tags:
              - Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/limitParam'
              - $ref: '#/components/parameters/nextParam'
              - name: previous
                in: query
                description: "Previous page of results token"
                schema:
                  type: string
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/DocumentSearchRequest'
                    examples:
                      Search_By_Key:
                        value:
                          query:
                            tag:
                              key: category
                      Search_By_Value:
                        value:
                          query:
                            tag:
                              key: category
                              eq: person
                      Tag_Value_Begins_With:
                        value:
                          query:
                            tag:
                              key: firstname
                              beginsWith: jo
                      Search_By_Value_for_Specific_Documents:
                        value:
                          query:
                            tag:
                              key: category
                              eq: person
                            documentIds: ["1", "2"]
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DocumentSearchResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/searchLambdaApi200"
          /searchFulltext:
            post:
              operationId: DocumentFulltext
              summary: Document full-text search
              description: Document full-text search (and more robust multi-tag search queries, powered by OpenSearch); ONLY available with FormKiQ Enterprise
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/limitParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/DocumentFulltextRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DocumentFulltextResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"
          /queryFulltext:
            post:
              operationId: QueryFulltext
              summary: Direct opensearch search API
              description: Endpoint for allowing custom, complex queries using the OpenSearch search API (https://opensearch.org/docs/latest/opensearch/rest-api/search/); ONLY available with FormKiQ Enterprise
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/QueryFulltextRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/QueryFulltextResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"                
          /documents/{documentId}/actions:
            get:
              operationId: GetDocumentActions
              summary: Get document actions
              description: Get document actions and their status
              tags:
              - Document Actions
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentActionsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddDocumentActions
              summary: Add document action
              description: Add one or more actions to a document; this appends actions and does not replace previous actions
              tags:
              - Document Actions
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: false
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentActionsRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddDocumentActionsResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/{documentId}/ocr:
            get:
              operationId: GetDocumentOcr
              summary: Get document ocr content
              description: Get a document's optical character recognition (OCR) result, if exists; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Document OCR
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/contentUrlParam'
              - $ref: '#/components/parameters/textParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentOcrResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/ocrLambdaApi200"
            post:
              operationId: AddDocumentOcr
              summary: Perform document ocr
              description: Document optical character recognition (OCR) request; extract text and data from a document; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Document OCR
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: false
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentOcrRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddDocumentOcrResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/ocrLambdaApi200"                        
            put:
              operationId: SetDocumentOcr
              summary: Set document ocr result
              description: Set a document's optical character recognition (OCR) result for a document; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Document OCR
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: false
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/SetDocumentOcrRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddDocumentOcrResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/ocrLambdaApi200"
            delete:
              operationId: DeleteDocumentOcr
              summary: Delete document ocr
              description: Delete a document's optical character recognition (OCR) result, if exists; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Document OCR
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/ocrLambdaApi200"
          /documents/{documentId}/versions:
            get:
              operationId: GetDocumentVersions
              summary: Get document's versions
              description: Get a listing of document content and metadata versions; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Document Versions
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              - $ref: '#/components/parameters/nextParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentVersionsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            put:
              operationId: SetDocumentVersion
              summary: Set version of document
              description: Set document to a previous document version; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Document Versions
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/SetDocumentVersionRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/SetDocumentVersionResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /documents/{documentId}/versions/{versionKey}:
            delete:
              operationId: DeleteDocumentVersion
              summary: Delete document version
              description: Delete a specific previous document version; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Document Versions
              parameters:
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/versionKeyPath'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /folders:
            get:
              operationId: GetFolderDocuments
              summary: Get document folders
              description: Get list of documents in a folder
              tags:
              - Document Folders
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/indexKeyQueryParam'
              - $ref: '#/components/parameters/limitParam'
              - $ref: '#/components/parameters/shareKeyParam'
              - $ref: '#/components/parameters/nextParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetFoldersResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/searchLambdaApi200"
            post:
              operationId: AddFolder
              summary: Add document folder
              description: Creates a new folder
              tags:
              - Document Folders
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddFolderRequest'
              responses:
                '201':
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddFolderResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /folders/{indexKey}:
            delete:
              operationId: DeleteFolder
              summary: Delete document folder
              description: Delete a specific folder; folder must be empty
              tags:
              - Document Folders
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/indexKeyParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DeleteFolderResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /shares:
            get:
              operationId: GetUserShares
              summary: Get user shared folders
              description: Get a listing of user folder/document shares; ONLY available with FormKiQ Enterprise
              parameters:
              - $ref: '#/components/parameters/groupParam'
              - $ref: '#/components/parameters/limitParam'
              - $ref: '#/components/parameters/nextParam'
              tags:
              - Document Shares
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetUserShares'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /shares/folders/{indexKey}:
            post:
              operationId: AddFolderShare
              summary: Add folder share
              description: Creates a new folder share; ONLY available with FormKiQ Enterprise
              tags:
              - Document Shares
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/indexKeyParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddFolderShareRequest'
              responses:
                '201':
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddFolderShareResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /shares/{shareKey}:
            delete:
              operationId: DeleteShare
              summary: Delete folder share
              description: Delete a specific document share; ONLY available with FormKiQ Enterprise
              tags:
              - Document Shares
              parameters:
              - $ref: '#/components/parameters/shareKey'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DeleteShareResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /tagSchemas:
            get:
              operationId: GetTagSchemas
              summary: Get tag schemas
              description: Returns the list of tagSchemas; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Tag Schema
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/limitParam'
              - $ref: '#/components/parameters/nextParam'
              - name: "previous"
                in: "query"
                description: "Previous page of results token"
                schema:
                  type: "string"
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetTagSchemasRequest"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddTagSchema
              summary: Add tag schemas
              description: Creates a new TagSchema; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Tag Schema
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddTagSchemaRequest'
              responses:
                '201':
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/TagSchemaPostResponse'
                '400':
                  description: 400 BAD REQUEST
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /tagSchemas/{tagSchemaId}:
            get:
              operationId: GetTagSchema
              summary: Get tag schema
              description: Retrieves a TagSchema's details, i.e., metadata; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Tag Schema
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/tagSchemaIdParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetTagSchemaRequest'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            delete:
              operationId: DeleteTagSchema
              summary: Delete tag schema
              description: Delete a TagSchema; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Tag Schema
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/tagSchemaIdParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"                
          /documents/{documentId}/antivirus:                       
            put:
              operationId: SetAntivirus
              summary: Antivirus document scan
              description: Perform an Anti-Malware / Antivirus scan on a document; ONLY available with FormKiQ Pro and Enterprise
              tags:
              - Antivirus
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              requestBody:
                required: false
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/SetAntivirusRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/SetAntivirusResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/antivirusLambdaApi200"                
          /documents/{documentId}/fulltext:
            get:
              operationId: GetDocumentFulltext
              summary: Get document's full-text
              description: Retrieve an OpenSearch document's details, i.e., metadata
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentFulltextResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"
            delete:
              operationId: DeleteDocumentFulltext
              summary: Delete document full-text
              description: Remove full text search for a document from OpenSearch; ONLY available with FormKiQ Enterprise
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DeleteFulltextResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"
            put:
              operationId: SetDocumentFulltext
              summary: Set document's full-text
              description: Set all text/tags found within a document to OpenSearch; ONLY available with FormKiQ Enterprise
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: false
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/SetDocumentFulltextRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/SetDocumentFulltextResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"
            patch:
              operationId: UpdateDocumentFulltext
              summary: Update document's full-text
              description: Update a document in OpenSearch; ONLY available with FormKiQ Enterprise
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: false
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/UpdateDocumentFulltextRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/SetDocumentFulltextResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"
          /documents/{documentId}/fulltext/tags/{tagKey}:
            delete:
              operationId: DeleteDocumentFulltextTag
              summary: Delete document full-text tag
              description: Remove document tags from OpenSearch; ONLY available with FormKiQ Enterprise
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/tagkeyParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"
          /documents/{documentId}/fulltext/tags/{tagKey}/{tagValue}:
            delete:
              operationId: DeleteDocumentFulltextTagAndValue
              summary: Delete document full-text tag/value
              description: Remove document tag/value from OpenSearch; ONLY available with FormKiQ Enterprise
              tags:
              - Advanced Document Search
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/tagkeyParam'
              - $ref: '#/components/parameters/tagvalueParam' 
              - $ref: '#/components/parameters/shareKeyParam'             
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/fulltextLambdaApi200"
          /documents/{documentId}/syncs:
            get:
              operationId: GetDocumentSyncs
              summary: Get document syncs
              description: Retrieve the document syncs with external services status
              tags:
              - Documents
              parameters:
              - $ref: '#/components/parameters/documentIdParam'
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/limitParam'
              - $ref: '#/components/parameters/shareKeyParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetDocumentSyncResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /public/documents:
            post:
              operationId: PublicAddDocument
              summary: Public add document
              description: Allow unauthenticated creation of new documents; must be enabled during installation (disabled by default)
              tags:
              - Public
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddDocumentRequest'
              responses:
                '201':
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DocumentId'
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /public/webhooks/{webhooks+}:
            post:
              operationId: PublicAddWebhook
              summary: Public add webhook
              description: Receive an incoming public post to a specified webhook and creates a document based on the data sent; must be enabled during installation (disabled by default)
              tags:
              - Public
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/webhooksParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      type: object
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DocumentId'
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /private/webhooks/{webhooks+}:
            post:
              operationId: AddWebhookDocument
              summary: Add webhook
              description: Receive an incoming private webhook and creates a document based on the webhook's body; requires authentication
              tags:
              - Webhooks
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/webhooksParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      type: object
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DocumentId'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /webhooks:
            get:
              operationId: GetWebhooks
              summary: Get webhooks
              tags:
              - Webhooks
              description: Return a list of webhooks; each webhook's id can be provided to an external service, allowing data to be sent, received, and processed via that webhook
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetWebhooksResponse"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddWebhook
              summary: Add webhook
              description: Create a new webhook; once created, a webhook's id can be provided to an external service, allowing data to be sent, received, and processed via that webhook
              tags:
              - Webhooks
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddWebhookRequest'
              responses:
                '201':
                  description: 201 CREATED
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/AddWebhookResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /webhooks/{webhookId}:
            get:
              operationId: GetWebhook
              summary: Get webhook
              tags:
              - Webhooks
              description: Return a webhook's details, i.e., its metadata
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/webhookIdParam'
              responses:
                '200':
                  description: "200 OK"
                  headers:
                    Access-Control-Allow-Origin:
                      schema:
                        type: "string"
                    Access-Control-Allow-Methods:
                      schema:
                        type: "string"
                    Access-Control-Allow-Headers:
                      schema:
                        type: "string"
                  content:
                    application/json:
                      schema:
                        "$ref": "#/components/schemas/GetWebhookResponse"
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            delete:
              operationId: DeleteWebhook
              summary: Delete webhook
              description: Delete a webhook; this will disable sending, receiving, or processing of data from external services to this webhook
              tags:
              - Webhooks
              parameters:
              - $ref: '#/components/parameters/webhookIdParam'
              - $ref: '#/components/parameters/siteIdParam'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            patch:
              operationId: UpdateWebhook
              summary: Update webhook
              description: Updates a webhook's details, i.e., its metadata
              tags:
              - Webhooks
              parameters:
              - $ref: '#/components/parameters/webhookIdParam'
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/AddWebhookRequest'
              responses:
                '200':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /webhooks/{webhookId}/tags:
            get:
              operationId: GetWebhookTags
              summary: Get webhook tags
              description: Get a webhook's tags
              tags:
              - Webhooks
              parameters:
              - $ref: '#/components/parameters/webhookIdParam'
              - $ref: '#/components/parameters/siteIdParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/GetWebhookTagsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
            post:
              operationId: AddWebhookTag
              summary: Add webhook tag
              description: Add a tag to a webhook
              tags:
              - Webhooks
              parameters:
              - $ref: '#/components/parameters/webhookIdParam'
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/GetDocumentTagResponse'
                    examples:
                      Add_Key_Only_Tag:
                        value:
                          key: category
                      Add_Key_and_Value_Tag:
                        value:
                          key: category
                          value: person
              responses:
                '201':
                  $ref: '#/components/responses/200Cors'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi201"
          /onlyoffice/{documentId}/edit:
            post:
              operationId: OnlyOfficeDocumentEdit
              summary: Edit onlyoffice document
              description: Provide ONLYOFFICE integration for editing documents; ONLY available with FormKiQ Enterprise
              tags:
              - Onlyoffice
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OnlyOfficeDocumentEditRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/OnlyOfficeDocumentResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/onlyOfficeLambdaApi200"
          /onlyoffice/new:
            post:
              operationId: OnlyOfficeDocumentNew
              summary: Create onlyoffice document
              description: Provide ONLYOFFICE integration for the creation of new documents; ONLY available with FormKiQ Enterprise
              tags:
              - Onlyoffice
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OnlyOfficeDocumentNewRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/OnlyOfficeDocumentResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/onlyOfficeLambdaApi200"
          /onlyoffice/{documentId}/save:
            post:
              operationId: OnlyOfficeDocumentSave
              summary: Save onlyoffice document
              description: Save an updated document for ONLYOFFICE integration. ONLY available with FormKiQ Enterprise
              tags:
              - Onlyoffice
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/OnlyOfficeDocumentSaveResponse'
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/onlyOfficeLambdaApi200"
          /indices/{indexType}/move:
            post:
              operationId: IndexFolderMove
              description: Perform an Folder Index Move
              tags:
              - Custom Index
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/indexTypeParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/IndexFolderMoveRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/IndexFolderMoveResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /indices/{indexType}/{indexKey}:
            delete:
              operationId: DeleteIndex
              description: Perform a delete on the Folder Index
              tags:
              - Custom Index
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/indexKeyParam'
              - $ref: '#/components/parameters/indexTypeParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/DeleteIndicesResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /indices/search:
            post:
              operationId: IndexSearch
              description: Perform a search on a index; this is currently available for both folder and tag indices
              tags:
              - Custom Index
              - Tag Index
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/limitParam'
              - $ref: '#/components/parameters/nextParam'
              - name: previous
                in: query
                description: "Previous page of results token"
                schema:
                  type: string
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/IndexSearchRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/IndexSearchResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/lambdaApi200"
          /esignature/docusign/{documentId}:
            post:
              operationId: EsignatureDocusign
              summary: Create E-signature request
              description: Create a DocuSign E-Signature request; ONLY available with FormKiQ Enterprise 
              tags:
              - E-Signature
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              - $ref: '#/components/parameters/documentIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsignatureDocusignRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/EsignatureDocusignResponse'
                '400':
                  description: 400 OK
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ValidationErrorsResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/esignatureLambdaApi200"
          /esignature/docusign/config:
            get:
              operationId: EsignatureDocusignConfig
              summary: Get E-signature config
              description: Get DocuSign configuration info; ONLY available with FormKiQ Enterprise 
              tags:
              - E-Signature
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/EsignatureDocusignConfigResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/esignatureLambdaApi200"
            put:
              operationId: EsignatureSetDocusignConfig
              summary: Set E-signature config
              description: Set DocuSign configuration, required for integration; ONLY available with FormKiQ Enterprise 
              tags:
              - E-Signature
              parameters:
              - $ref: '#/components/parameters/siteIdParam'
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsignatureSetDocusignConfigRequest'
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/EsignatureSetDocusignConfigResponse'
              security:
              - ApiAuthorization: []
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/esignatureLambdaApi200"
          /esignature/docusign/events:
            post:
              operationId: AddEsignatureDocusignEvents
              summary: Add E-signature event
              description: DocuSign callback URL handler; ONLY available with FormKiQ Enterprise 
              tags:
              - E-Signature
              responses:
                '200':
                  description: 200 OK
                  headers:
                    Access-Control-Allow-Origin:
                       $ref: '#/components/headers/AccessControlAllowOrigin'
                    Access-Control-Allow-Methods:
                       $ref: '#/components/headers/AccessControlAllowMethods'
                    Access-Control-Allow-Headers:
                      $ref: '#/components/headers/AccessControlAllowHeaders'
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/EsignatureDocusignResponse'
              x-amazon-apigateway-integration:
                $ref: "#/components/x-amazon-apigateway-integrations/esignatureLambdaApi200"
        components:
          headers:
            AccessControlAllowOrigin:
              schema:
                type: string
            AccessControlAllowMethods:
              schema:
                type: string
            AccessControlAllowHeaders:
              schema:
                type: string
            Location:
              schema:
                type: string
          responses:
            200Cors:
              description: 200 OK
              headers:
                Access-Control-Allow-Origin:
                  schema:
                    type: string
                Access-Control-Allow-Methods:
                  schema:
                    type: string
                Access-Control-Allow-Headers:
                  schema:
                    type: string
              content: {}
          parameters:
            versionKeyPath:
              name: versionKey
              in: path
              description: Version Key
              required: true
              schema:
                type: string
            versionKeyParam:
              name: versionKey
              in: query
              description: Version Key
              required: false
              schema:
                type: string
            webhooksParam:
              name: webhooks+
              in: path
              required: true
              description: Web Hook Param
              schema:
                type: string
            webhookIdParam:
              name: webhookId
              in: path
              required: true
              description: Web Hook Param
              schema:
                type: string
            shareKey:
              name: shareKey
              in: path
              description: Share Identifier
              required: true
              schema:
                type: string
            shareKeyParam:
              name: shareKey
              in: query
              description: Share Identifier
              required: false
              schema:
                type: string
            siteIdParam:
              name: siteId
              in: query
              description: Site Identifier
              required: false
              schema:
                type: string
            groupParam:
              name: group
              in: query
              description: Group Identifier
              required: false
              schema:
                type: string
            providerParam:
              name: provider
              in: query
              description: Provider Identifier
              required: true
              schema:
                type: string
            limitParam:
              name: limit
              in: query
              description: Limit Results
              required: false
              schema:
                type: string
                default: "10"
            nextParam:
              name: next
              in: query
              description: "Next page of results token"
              required: false
              schema:
                type: string
            apiKeyParam:
              name: apiKey
              in: path
              description: API Key
              required: true
              schema:
                type: string
            folderIdParam:
              name: folderId
              in: path
              description: Folder Identifier
              required: true
              schema:
                type: string
            documentIdParam:
              name: documentId
              in: path
              description: Document Identifier
              required: true
              schema:
                type: string
            permissionKeyParam:
              name: permissionKey
              in: path
              description: Permission Identifier
              required: true
              schema:
                type: string
            tagSchemaIdParam:
              name: tagSchemaId
              in: path
              description: Tag Schema Identifier
              required: true
              schema:
                type: string
            tagkeyParam:
              name: tagKey
              in: path
              description: Tag Key
              required: true
              schema:
                type: string
            tagvalueParam:
              name: tagValue
              in: path
              description: Tag Key Value
              required: true
              schema:
                type: string
            contentLengthParam:
              name: contentLength
              in: query
              description: Indicates the size of the entity-body
              required: false
              schema:
                type: integer
            durationParam:
              name: duration
              in: query
              description: Indicates the number of hours request is valid for
              schema:
                type: integer
            contentUrlParam:
              name: contentUrl
              in: query
              description: Whether to return a "contentUrl", set value to 'true'
              required: false
              schema:
                type: string
            textParam:
              name: text
              in: query
              description: Returns raw 'text' of OCR content. e.g. AWS Textract returns JSON, setting parameter to 'true' converts JSON to Text
              required: false
              schema:
                type: string
            indexKeyQueryParam:
              name: indexKey
              in: query
              description: Index Key Identifier
              required: false
              schema:
                type: string
            indexKeyParam:
              name: indexKey
              in: path
              description: Index Key Identifier
              required: true
              schema:
                type: string
            indexTypeParam:
              name: indexType
              in: path
              description: Index Type
              required: true
              schema:
                type: string
          schemas:
            ValidationErrorsResponse:
              type: "object"
              properties:
                errors:
                  type: "array"
                  description: "List of errors"
                  items:
                    $ref: "#/components/schemas/ValidationError"
            ValidationError:
              type: "object"
              properties:
                key:
                  type: "string"
                  description: "Error Key"
                error:
                  type: "string"
                  description: "Error Message"
            IndexFolderMoveRequest:
              type: "object"
              properties:
                source:
                  type: "string"
                  description: "Source path"
                target:
                  type: "string"
                  description: "Target path"
            SetDocumentTagKeyRequest:
              type: "object"
              properties:
                value:
                  type: "string"
                  description: "Tag value"
                values:
                  type: "array"
                  description: "Tag values"
                  items:
                    type: "string"
            DeleteIndicesResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "response message"
            UpdateMatchingDocumentTagsResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "response message"
            IndexFolderMoveResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "Folder move message"
            IndexSearchRequest:
              type: "object"
              properties:
                indexType: 
                  type: "string"
                  description: "The name of the index to search"
            IndexSearchResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                previous:
                  type: "string"
                  description: "Previous page of results token"
                values:
                  type: "array"
                  description: "List of search results"
                  items:
                    $ref: "#/components/schemas/IndexSearch"
            IndexSearch:
              type: "object"
              properties:
                value:
                  type: "string"
                  description: "value of index"
            GetDocumentContentResponse:
              type: "object"
              properties:
                content:
                  type: "string"
                  description: "Document content"
                contentUrl:
                  type: "string"
                  description: "URL to retrieve document content"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                isBase64:
                  type: "boolean"
                  description: "Is the content Base64-encoded?"
            GetDocumentVersionsResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                versions:
                  type: "array"
                  description: "List of document versions"
                  items:
                    $ref: "#/components/schemas/DocumentItemVersion"
            AddFolderRequest:
              type: "object"
              properties:
                path:
                  type: "string"
                  description: "Path of Folder to create"
            AddFolderResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "Response Message"
                indexKey:
                  type: "string"
                  description: "Folder Index Key"
            GetUserShares:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                shares:
                  type: "array"
                  description: "List of user's shares"
                  items:
                    $ref: "#/components/schemas/UserShare"
            UserShare:
              type: "object"
              properties:
                group:
                  type: "string"
                  description: "Name of Share Group"
                shareKey:
                  type: "string"
                  description: "Share Identifier"
                type:
                  type: "string"
                  enum:
                    - FOLDER
                  description: "Type of Document"
                permissions:
                  type: "array"
                  description: "List of share permissions"
                  items:
                    type: "string"
                    enum:
                      - READ
                      - WRITE
                      - DELETE
                siteId:
                  type: "string"
                  description: "Site Identifier"
                path:
                  type: "string"
                  description: "Path or Name of document"
                userId:
                  type: "string"
                  description: "User who created share"
                permissionType:
                  type: "string"
                  description: "Type of share"
                  enum:
                    - GROUP
            GetDocumentTagsResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                previous:
                  type: "string"
                  description: "Previous page of results token"
                tags:
                  type: "array"
                  description: "List of tags"
                  items:
                    $ref: "#/components/schemas/GetDocumentTagResponse"
            SetDocumentVersionRequest:
              type: "object"
              properties:
                versionKey:
                  type: "string"
                  description: "VersionKey returned by the GET /documents/{documentId}/versions to revert to"
            SetDocumentVersionResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "Response Message" 
            DocumentSearch:
              type: "object"
              description: "Document tag search criteria"
              properties:
                text:
                  type: "string"
                  description: "Full text search"
                meta:
                  $ref: "#/components/schemas/DocumentSearchItemMeta"              
                tag:
                  $ref: "#/components/schemas/DocumentSearchItemTag"
                documentIds:
                  type: array
                  description: "List of DocumentIds to filter search results on"
                  items:
                    type: "string"
            DocumentId:
              required:
              - "documentId"
              type: "object"
              properties:
                documentId:
                  type: "string"
                  description: "Document Identifier"
                siteId:
                  type: "string"
                  description: "Site Identifier"
            AddWebhookResponse:
              type: "object"
              properties:
                id:
                  type: "string"
                siteId:
                  type: "string"
                  description: "Site Identifier"
            AddDocumentResponse:
              type: "object"
              properties:
                documentId:
                  type: "string"
                  description: "Document Identifier"
                siteId:
                  type: "string"
                  description: "Site Identifier"
                uploadUrl:
                  type: "string"
                  description: "Url to upload document to"
                documents:
                  type: "array"
                  description: "List of child documents"
                  items:
                    $ref: "#/components/schemas/AddChildDocumentResponse"
            AddChildDocumentResponse:
              type: "object"
              properties:
                documentId:
                  type: "string"
                  description: "Document Identifier"
                uploadUrl:
                  type: "string"
                  description: "Url to upload document to"
            GetDocumentUrlResponse:
              type: "object"
              properties:
                documentId:
                  type: "string"
                  description: "Document Identifier"
                url:
                  type: "string"
                  description: "Document content url"
            GetDocumentResponse:
              required:
              - "documentId"
              type: "object"
              properties:
                siteId:
                  type: "string"
                  description: "Site Identifier"
                path:
                  type: "string"
                  description: "Path or Name of document"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                lastModifiedDate:
                  type: "string"
                  description: "Last Modified Timestamp"
                checksum:
                  type: "string"
                  description: "Document checksum, changes when document file changes"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                userId:
                  type: "string"
                  description: "User who added document"
                contentLength:
                  type: "integer"
                  description: "Document size"
                versionId:
                  type: "string"
                  description: "Document version"
                documents:
                  type: "array"
                  description: "List of child documents"
                  items:
                    $ref: "#/components/schemas/ChildDocument"
            ChildDocument:
              required:
              - "documentId"
              type: "object"
              properties:
                path:
                  type: "string"
                  description: "Path or Name of document"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                lastModifiedDate:
                  type: "string"
                  description: "Last Modified Timestamp"
                checksum:
                  type: "string"
                  description: "Document checksum, changes when document file changes"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                userId:
                  type: "string"
                  description: "User who added document"
                contentLength:
                  type: "integer"
                  description: "Document size"
                versionId:
                  type: "string"
                  description: "Document version"
                belongsToDocumentId:
                  type: "string"
                  description: "Parent Document Identifier"
            DocumentsCompressRequest:
              type: "object"
              required:
                - "documentIds"
              properties:
                documentIds:
                  type: "array"
                  description: "Documents to compress"
                  items:
                    type: "string"
            DocumentsCompressResponse:
              type: "object"
              properties:
                downloadUrl:
                  type: "string"
                  description: "Archive download URL"
            DocumentFulltextRequest:
              required:
              - "query"
              type: "object"
              description: "Document full text search"
              properties:
                query:
                  $ref: "#/components/schemas/DocumentFulltextSearch"
                responseFields:
                  $ref: "#/components/schemas/SearchResponseFields"
            DocumentFulltextSearch:
              type: "object"
              description: "Document full text search criteria"
              properties:
                page:
                  type: "integer"
                  description: "Result page to return (starting at 1)"
                text:
                  type: "string"
                  description: "Full text search"
                tags:
                  type: "array"
                  description: "List of search tags"
                  items:
                    $ref: "#/components/schemas/DocumentFulltextTag"
            DocumentFulltextTag:
              required:
              - "key"
              type: "object"
              properties:
                eq:
                  type: "string"
                  description: "Searches for strings that eq"
                eqOr:
                  type: array
                  description: "Searches for ANY strings that eq"
                  items:
                    type: "string"
                key:
                  type: "string"
                  description: "Tag key to search"
            DocumentSearchRequest:
              required:
              - "query"
              type: "object"
              description: "Document search tag criteria"
              properties:
                query:
                  $ref: "#/components/schemas/DocumentSearch"
                responseFields:
                  $ref: "#/components/schemas/SearchResponseFields"
            SearchResponseFields:
              properties:
                tags:
                  type: "array"
                  items:
                    type: "string"
            DocumentSearchItemMeta:
              type: "object"
              properties:
                folder:
                  type: "string"
                  description: "Searches for a folder"
                path:
                  type: "string"
                  description: "Searches for a Path of document"
                indexType:
                  type: "string"
                  description: "Searches in an index"
                  enum:
                    - folder
                indexFilterBeginsWith:
                  type: "string"
                  description: "Returns index records that begins with a particular substring"
            DocumentSearchItemTag:
              required:
              - "key"
              type: "object"
              properties:
                beginsWith:
                  type: "string"
                  description: "Searches for strings that begin with"
                eq:
                  type: "string"
                  description: "Searches for strings that eq"
                eqOr:
                  type: array
                  description: "Searches for ANY strings that eq"
                  items:
                    type: "string"
                key:
                  type: "string"
                  description: "Tag key to search"
            AddWebhookRequest:
              required:
              - "name"
              type: "object"
              properties:
                name:
                  type: "string"
                  description: "Name of webhook"
                ttl:
                  type: "string"
                  description: "Webhook time to live (expiry)"
                enabled:
                  type: "string"
                  description: "Is webhook enabled"
                tags:
                  type: "array"
                  description: "List of document tags"
                  items:
                    $ref: "#/components/schemas/AddDocumentTag"
            AddDocumentUploadRequest:
              required:
              - "content"
              type: "object"
              properties:
                tagSchemaId:
                  type: "string"
                  description: "Tag Schema Id"
                path:
                  type: "string"
                  description: "Path or Name of document"
                tags:
                  type: "array"
                  description: "List of document tags"
                  items:
                    $ref: "#/components/schemas/AddDocumentTag"
                actions:
                  type: array
                  description: "List of Actions"
                  items:
                    $ref: "#/components/schemas/AddAction"
            AddDocumentRequest:
              required:
              - "content"
              type: "object"
              properties:
                tagSchemaId:
                  type: "string"
                  description: "Tag Schema Id"
                path:
                  type: "string"
                  description: "Path or Name of document"
                contentType:
                  type: "string"
                  description: "Document media type"
                isBase64:
                  type: "boolean"
                  description: "Is the content Base64-encoded?"
                content:
                  type: "string"
                  description: "Document content"
                tags:
                  type: "array"
                  description: "List of document tags"
                  items:
                    $ref: "#/components/schemas/AddDocumentTag"
                metadata:
                  type: "array"
                  description: "List of document Metadata"
                  items:
                    $ref: "#/components/schemas/AddDocumentMetadata"
                actions:
                  type: array
                  description: "List of Actions"
                  items:
                    $ref: "#/components/schemas/AddAction"
                documents:
                  type: "array"
                  description: "List of child documents"
                  items:
                    $ref: "#/components/schemas/AddChildDocument"
            AddFolderShareRequest:
              type: "object"
              properties:
                share:
                  $ref: "#/components/schemas/AddShare"
            AddShare:
              type: "object"
              properties:
                group:
                  type: "string"
                  description: "Share with Group"
                permissions:
                  type: "array"
                  description: "List of share permissions"
                  items:
                    type: "string"
                    enum:
                      - READ
                      - WRITE
                      - DELETE
            AddFolderShareResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "API Response message"
                shareKey:
                  type: "string"
                  description: "Share Identifier"
            DeleteFolderResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "API Response message"
            DeleteShareResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "API Response message"
            MatchDocumentTag:
              type: "object"
              description: "Match Document Tag"
              required:
              - "key"
              properties:
                key:
                  type: "string"
                  description: "Tag key"
                beginsWith:
                  type: "string"
                  description: "Searches for strings that begin with"
                eq:
                  type: "string"
                  description: "Searches for strings that eq"
            UpdateMatchingDocumentTagsRequest:
              type: "object"
              description: "Add/Update of multiple document tag(s) based on document(s) that have the matching tag."
              required:
              - "match"
              - "update"
              properties:
                match:
                  type: "object"
                  properties:
                    tag:
                      $ref: "#/components/schemas/MatchDocumentTag"
                update:
                  type: "object"
                  description: "Data to update"
                  properties:
                    tags:
                      type: "array"
                      description: "List of document tags"
                      items:
                        $ref: "#/components/schemas/AddDocumentTag"
            AddDocumentTagsRequest:
              type: "object"
              description: "Add List of document tags"
              properties:
                tags:
                  type: "array"
                  description: "List of document tags"
                  items:
                    $ref: "#/components/schemas/AddDocumentTag"
            AddDocumentMetadata:
              required:
              - "key"
              type: "object"
              description: "Document Metadata (use either 'value' or 'values' not both)"
              properties:
                key:
                  type: "string"
                  description: "Metadata key"
                value:
                  type: "string"
                  description: "Metadata value"
                values:
                  type: "array"
                  description: "Metadata values"
                  items:
                    type: "string"
                    description: "Metadata value"
            AddDocumentTag:
              required:
              - "key"
              type: "object"
              description: "List of Document Tags (use either 'value' or 'values' not both)"
              properties:
                key:
                  type: "string"
                  description: "Tag key"
                value:
                  type: "string"
                  description: "Tag value"
                values:
                  type: "array"
                  description: "Tag values"
                  items:
                    type: "string"
                    description: "Tag value"
            AddChildDocument:
              required:
              - "content"
              type: "object"
              description: "List of related documents"
              properties:
                path:
                  type: "string"
                  description: "Path or Name of document"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                isBase64:
                  type: "boolean"
                  description: "Is the content Base64-encoded?"
                content:
                  type: "string"
                  description: "Document content"
            DocumentItemVersion:
              type: "object"
              properties:
                path:
                  type: "string"
                  description: "Path or Name of document"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                lastModifiedDate:
                  type: "string"
                  description: "Last Modified Timestamp"
                checksum:
                  type: "string"
                  description: "Document checksum, changes when document file changes"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                userId:
                  type: "string"
                  description: "User who added document"
                contentLength:
                  type: "integer"
                  description: "Document size"
                versionId:
                  type: "string"
                  description: "Document version"
                versionKey:
                  type: "string"
                  description: "Document Version Identifier"
            GetDocumentTagResponse:
              required:
              - "key"
              type: "object"
              properties:
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                type:
                  type: "string"
                  description: "Tag type"
                userId:
                  type: "string"
                  description: "User who added document"
                value:
                  type: "string"
                  description: "Tag value"
                values:
                  type: "array"
                  description: "Tag values"
                  items:
                    type: "string"
                    description: "Tag value"
                key:
                  type: "string"
                  description: "Tag key"
            QueryFulltextRequest:
              description: OpenSearch search API request (https://opensearch.org/docs/latest/opensearch/rest-api/search/)
              type: "object"
              example:
                query:
                  match:
                    title: "Wind"
            QueryFulltextResponse:
              type: "object"
              properties:
                result:
                  type: "object"
              example:
                result:
                  hits:
                    hits:
                    - _index: ""
                      _id: ""
                      _source:
                        documentId: ""
                        content: ""
            DocumentFulltextResponse:
              type: "object"
              properties:
                documents:
                  type: "array"
                  description: "List of search result documents"
                  items:
                    $ref: "#/components/schemas/FulltextSearchItem"
            FulltextSearchItem:
              type: "object"
              properties:
                siteId:
                  type: "string"
                  description: "Site Identifier"
                path:
                  type: "string"
                  description: "Path or Name of document"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                contentLength:
                  type: "integer"
                  description: "Document size"
                createdBy:
                  type: "string"
                  description: "User who added document"
                tags:
                  type: "object"
            GetDocumentFulltextResponse:
              type: "object"
              properties:
                siteId:
                  type: "string"
                  description: "Site Identifier"
                content:
                  type: "string"
                  description: "Content of document"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                path:
                  type: "string"
                  description: "Path or Name of document"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                createdBy:
                  type: "string"
                  description: "User who added document"
                contentLength:
                  type: "integer"
                  description: "Document size"
                tags:
                  type: "object"
                metadata:
                  type: "object"
            GetDocumentSyncResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                syncs:
                  type: "array"
                  description: "List of document syncs"
                  items:
                    $ref: "#/components/schemas/GetDocumentSync"
            GetDocumentSync:
              type: "object"
              properties:
                service:
                  type: "string"
                  description: "To which service the data was synced"
                  enum:
                    - TYPESENSE
                    - OPENSEARCH
                status:
                  type: "string"
                  description: "The status of the sync"
                  enum:
                    - COMPLETE
                    - FAILED
                type:
                  type: "string"
                  description: "The type of the sync"
                  enum:
                    - METADATA
                    - TAG
                syncDate:
                  type: "string"
                  description: "Timestamp of synchronization"
                userId:
                  type: "string"
                  description: "User who added document"
                message:
                  type: string
                  description: Document sync message
            GetFoldersResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                previous:
                  type: "string"
                  description: "Previous page of results token"
                documents:
                  type: "array"
                  description: "List of search result documents"
                  items:
                    $ref: "#/components/schemas/SearchResultDocument"
            DocumentSearchResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                previous:
                  type: "string"
                  description: "Previous page of results token"
                documents:
                  type: "array"
                  description: "List of search result documents"
                  items:
                    $ref: "#/components/schemas/SearchResultDocument"
            SearchResultDocument:
              type: "object"
              properties:
                siteId:
                  type: "string"
                  description: "Site Identifier"
                path:
                  type: "string"
                  description: "Path or Name of document"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                lastModifiedDate:
                  type: "string"
                  description: "Last Modified Timestamp"
                folder:
                  type: "boolean"
                  description: "Is Result a Document Folder"
                indexKey:
                  type: "string"
                  description: "populated if search result are from an index"
                checksum:
                  type: "string"
                  description: "Document checksum, changes when document file changes"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                userId:
                  type: "string"
                  description: "User who added document"
                contentLength:
                  type: "integer"
                  description: "Document size"
                versionId:
                  type: "string"
                  description: "Document version"
                belongsToDocumentId:
                  type: "string"
                  description: "Parent Document Identifier"
                matchedTag:
                  $ref: "#/components/schemas/DocumentSearchMatchTag"
                tags:
                  type: "object"
            DocumentSearchMatchTag:
              type: "object"
              properties:
                key:
                  type: "string"
                  description: "Tag key"
                value:
                  type: "string"
                  description: "Tag value"
                type:
                  type: "string"
                  description: "Tag type"
            GetDocumentsResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                previous:
                  type: "string"
                  description: "Previous page of results token"
                documents:
                  type: "array"
                  description: "List of documents"
                  items:
                    $ref: "#/components/schemas/DocumentItemResult"
            DocumentItemResult:
              type: "object"
              properties:
                siteId:
                  type: "string"
                  description: "Site Identifier"
                path:
                  type: "string"
                  description: "Path or Name of document"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                lastModifiedDate:
                  type: "string"
                  description: "Last Modified Timestamp"
                checksum:
                  type: "string"
                  description: "Document checksum, changes when document file changes"
                documentId:
                  type: "string"
                  description: "Document Identifier"
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                userId:
                  type: "string"
                  description: "User who added document"
                contentLength:
                  type: "integer"
                  description: "Document size"
                versionId:
                  type: "string"
                  description: "Document version"
            GetWebhooksResponse:
              type: "object"
              properties:
                webhooks:
                  type: "array"
                  description: "List of webhooks"
                  items:
                    $ref: "#/components/schemas/GetWebhookResponse"
            GetWebhookResponse:
              type: "object"
              properties:
                siteId:
                  type: "string"
                  description: "Site Identifier"
                name:
                  type: "string"
                  description: "Webhook name"
                url:
                  type: "string"
                  description: "Webhook url"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                id:
                  type: "string"
                  description: "Webhook Identifier"
                userId:
                  type: "string"
                  description: "User who added document"
            GetWebhookTagsResponse:
              type: "object"
              properties:
                next:
                  type: "string"
                  description: "Next page of results token"
                previous:
                  type: "string"
                  description: "Previous page of results token"
                tags:
                  type: "array"
                  description: "List of webhook tags"
                  items:
                    $ref: "#/components/schemas/WebhookTag"
            WebhookTag:
              required:
              - "key"
              - "value"
              type: "object"
              properties:
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                webhookId:
                  type: "string"
                  description: "Webhook Identifier"
                type:
                  type: "string"
                  description: "Tag type"
                userId:
                  type: "string"
                  description: "User who added document"
                value:
                  type: "string"
                  description: "Tag value"
                key:
                  type: "string"
                  description: "Tag key"
            GetDocumentActionsResponse:
              type: "object"
              properties:
                actions:
                  type: "array"
                  description: "List of document actions"
                  items:
                    $ref: "#/components/schemas/DocumentAction"
            DocumentAction:
              type: object
              properties:
                status:
                  type: string
                  description: Status of the Document Action
                type:
                  type: string
                  description: Type of Document Action
                userId:
                  type: "string"
                  description: "User who requested the Action"
                parameters:
                  type: "object"
                  description: Action parameters                      
            GetDocumentOcrResponse:
              type: object
              properties:
                data:
                  type: string
                  description: OCR text result
                ocrEngine:
                  type: string
                  description: The OCR technique used
                ocrStatus:
                  type: string
                  description: The status of the OCR request
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                isBase64:
                  type: "boolean"
                  description: "Is the content Base64-encoded?"
                userId:
                  type: "string"
                  description: "User who requested the OCR"
                documentId:
                  type: "string"
                  description: "Document Identifier"
            AddDocumentActionsResponse:
              type: object
              properties:
                message:
                  type: string
                  description: Document Action message
            AddDocumentOcrResponse:
              type: object
              properties:
                message:
                  type: string
                  description: OCR processing message
            SetDocumentFulltextResponse:
              type: object
              properties:
                message:
                  type: string
                  description: Full text processing message
            SetDocumentFulltextRequest:
              type: object
              properties:
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                content:
                  type: "string"
                  description: "Document content"
                contentUrls:
                  type: "array"
                  items:
                    type: "string"
                  description: "URL(s) which contain document content"
                path:
                  type: "string"
                  description: "Path or Name of document"
                tags:
                  type: "array"
                  description: "List of document tags"
                  items:
                    $ref: "#/components/schemas/AddDocumentTag"
                metadata:
                  type: "array"
                  description: "List of document Metadata"
                  items:
                    $ref: "#/components/schemas/AddDocumentMetadata"

            UpdateDocumentFulltextRequest:
              type: object
              properties:
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                content:
                  type: "string"
                  description: "Document content"
                contentUrls:
                  type: "array"
                  items:
                    type: "string"
                  description: "URL(s) which contain document content"
                path:
                  type: "string"
                  description: "Path or Name of document"
                tags:
                  type: "array"
                  description: "List of document tags"
                  items:
                    $ref: "#/components/schemas/AddDocumentTag"
                metadata:
                  type: "array"
                  description: "List of document Metadata"
                  items:
                    $ref: "#/components/schemas/AddDocumentMetadata"
            SetAntivirusRequest:
              type: object
            SetAntivirusResponse:
              type: object
              properties:
                message:
                  type: string
                  description: Antivirus processing message
            AddDocumentActionsRequest:
              type: object
              properties:
                actions:
                  type: array
                  description: "List of Actions"
                  items:
                    $ref: "#/components/schemas/AddAction"
            AddAction:
              type: object
              required:
                - type
              properties:
                type:
                  type: "string"
                  description: Type of Document Action
                  enum:
                    - OCR
                    - FULLTEXT
                    - ANTIVIRUS
                    - WEBHOOK
                    - DOCUMENTTAGGING
                parameters:
                  $ref: "#/components/schemas/AddActionParameters"
            AddActionParameters:
              type: "object"
              properties:
                ocrParseTypes:
                  type: "string"
                  description: "OCR: Parse types - TEXT, FORMS, TABLES"
                addPdfDetectedCharactersAsText:
                  type: "boolean"
                  description: "OCR: For the rewriting of the PDF document, converting any image text to searchable text"
                url:
                  type: "string"
                  description: "Webhook: Callback URL"
                characterMax:
                  type: "string"
                  description: "Fulltext: Maximum number of characters (-1 unlimited, Typesense defaults to 2048 characters)"
                engine:
                  type: "string"
                  description: "DocumentTagging: Engine to use for document tagging generation"
                  enum:
                    - chatgpt
                tags:
                  description: "DocumentTagging: Comma-deliminted list of keywords to generate tags for"
                  type: "string"
            AddDocumentOcrRequest:
              type: object
              example:
                parseTypes:
                  - TEXT
                  - FORMS
                  - TABLES
              properties:
                parseTypes:
                  type: "array"
                  description: "OCR Parse types - TEXT, FORMS, TABLES"
                  items:
                    type: "string"
                addPdfDetectedCharactersAsText:
                  type: "boolean"
                  description: "Rewrite PDF document, converting any Image text to searchable text"
            SetDocumentOcrRequest:
              required:
              - "content"
              type: "object"
              properties:
                contentType:
                  type: "string"
                  description: "Document Content-Type"
                isBase64:
                  type: "boolean"
                  description: "Is the content Base64-encoded?"
                content:
                  type: "string"
                  description: "Document content"
            GetVersionResponse:
              type: object
              properties:
                version:
                  type: string
                  description: "FormKiQ version"
                type:
                  type: string
                  description: "FormKiQ type"
                modules:
                  type: array
                  description: "List of installed modules"
                  items:
                    type: "string"
            SetConfigRequest:
              type: "object"
              properties:
                chatGptApiKey:
                  type: "string"
                  description: "ChatGPT Api Key"
                maxContentLengthBytes:
                  type: "string"
                  description: "Set Maximum Document Content Length in Bytes"
                maxDocuments:
                  type: "string"
                  description: "Set Maximum number of Documents allowed"
                maxWebhooks:
                  type: "string"
                  description: "Set Maximum number of Webhooks allowed"
            SetConfigResponse:
              type: object
              properties:
                message:
                  type: "string"
                  description: "Result message"
            AddApiKeyRequest:
              type: object
              properties:
                name:
                  type: "string"
                  description: "Name of API Key"
                permissions:
                  type: "array"
                  description: "List of permissions"
                  items:
                    type: "string"
                    enum:
                      - READ
                      - WRITE
                      - DELETE
            AddApiKeyResponse:
              type: object
              properties:
                apiKey:
                  type: "string"
                  description: "API Key Identifier"
            DeleteFulltextResponse:
              type: object
              properties:
                message:
                  type: "string"
                  description: "Result message"
            DeleteApiKeyResponse:
              type: object
              properties:
                message:
                  type: "string"
                  description: "Result message"
            GetApiKeysResponse:
              type: object
              properties:
                apiKeys:
                  type: "array"
                  description: "List of ApiKeys"
                  items:
                    $ref: "#/components/schemas/ApiKey"
            ApiKey:
              type: "object"
              properties:
                name:
                  type: "string"
                  description: "Name of API Key"
                apiKey:
                  type: "string"
                  description: "API Key value"
                userId:
                  type: "string"
                siteId:
                  type: "string"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                permissions:
                  type: "array"
                  description: "List of permissions"
                  items:
                    type: "string"
                    enum:
                      - READ
                      - WRITE
                      - DELETE
            GetConfigurationResponse:
              type: object
              properties:
                chatGptApiKey:
                  type: "string"
                  description: "ChatGPT API Key"
                maxContentLengthBytes:
                  type: "string"
                  description: "Set Maximum Document Content Length in Bytes"
                maxDocuments:
                  type: "string"
                  description: "Set Maximum number of Documents allowed"
                maxWebhooks:
                  type: "string"
                  description: "Set Maximum number of Webhooks allowed"
            GetSitesRequest:
              type: object
              properties:
                username:
                  type: "string"
                  description: "Username of request caller"
                sites:
                  type: "array"
                  description: "List of sites"
                  items:
                    $ref: "#/components/schemas/Site"
            Site:
              type: "object"
              properties:
                siteId:
                  type: "string"
                  description: "Site Identifier"
                permission:
                  type: "string"
                  description: "SiteId permission level"
                  enum:
                    - READ_WRITE
                    - READ_ONLY
                permissions:
                  type: array
                  description: "List of caller permissions"
                  items:
                    type: "string"
                    enum:
                      - ADMIN
                      - DELETE
                      - READ
                      - WRITE
                uploadEmail:
                  type: "string"
                  description: "SiteId document upload email address"
            TagSchemaPostResponse:
              type: "object"
              properties:
                tagSchemaId:
                  type: "string"
                  description: "Tag Schema Identifier"
            ErrorsResponse:
              type: object
              properties:
                errors:
                  type: "array"
                  description: "List of errors"
                  items:
                    $ref: "#/components/schemas/Error"
            Error:
              type: "object"
              properties:
                key:
                  type: "string"
                  description: "Error Key"
                error:
                  type: "string"
                  description: "Error Message"
            GetTagSchemasRequest:
              type: "object"
              properties:
                schemas:
                  type: "array"
                  description: "List of Tag Schemas"
                  items:
                    $ref: "#/components/schemas/TagSchemaSummary"
                next:
                  type: "string"
                previous:
                  type: "string"
            AddTagSchemaRequest:
              type: "object"
              properties:
                name:
                  type: "string"
                tags:
                  $ref: "#/components/schemas/AddTagSchemaTags"
            AddTagSchemaTags:
              type: "object"
              properties:
                compositeKeys:
                  type: "array"
                  description: "List of Composite Keys"
                  items:
                    $ref: "#/components/schemas/TagSchemaCompositeKey"
                required:
                  type: "array"
                  description: "List of Required Tags"
                  items:
                    $ref: "#/components/schemas/TagSchemaRequired"
                optional:
                  type: "array"
                  description: "List of Optional Tags"
                  items:
                    $ref: "#/components/schemas/TagSchemaOptional"
                allowAdditionalTags:
                  type: "boolean"
                  default: true
            TagSchemaSummary:
              type: "object"
              properties:
                tagSchemaId:
                  type: "string"
                name:
                  type: "string"
                userId:
                  type: "string"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
            GetTagSchemaRequest:
              type: "object"
              properties:
                tagSchemaId:
                  type: "string"
                name:
                  type: "string"
                userId:
                  type: "string"
                insertedDate:
                  type: "string"
                  description: "Inserted Timestamp"
                tags:
                  $ref: "#/components/schemas/TagSchemaTags"
            TagSchemaTags:
              type: "object"
              properties:
                compositeKeys:
                  type: "array"
                  description: "List of Composite Keys"
                  items:
                    $ref: "#/components/schemas/TagSchemaCompositeKey"
                required:
                  type: "array"
                  description: "List of Required Tags"
                  items:
                    $ref: "#/components/schemas/TagSchemaRequired"
                optional:
                  type: "array"
                  description: "List of Optional Tags"
                  items:
                    $ref: "#/components/schemas/TagSchemaOptional"
                allowAdditionalTags:
                  type: "boolean"
                  default: true
            TagSchemaCompositeKey:
              type: "object"
              properties:
                key:
                  type: "array"
                  items:
                    type: "string"
            TagSchemaRequired:
              type: "object"
              properties:
                key:
                  type: "string"
                defaultValues:
                  type: "array"
                  description: "Default values"
                  items:
                    type: "string"
                allowedValues:
                  type: "array"
                  description: "Only valid values"
                  items:
                    type: "string"
            TagSchemaOptional:
              type: "object"
              properties:
                key:
                  type: "string"
                defaultValues:
                  type: "array"
                  description: "Default values"
                  items:
                    type: "string"
                allowedValues:
                  type: "array"
                  description: "Only valid values"
                  items:
                    type: "string"
            OnlyOfficeDocumentNewRequest:
              description: "ONLYOFFICE New Document Request"
              properties:
                extension:
                  type: "string"
                  enum:
                    - DOCX
                    - XLSX
                    - PPTX
            OnlyOfficeDocumentEditRequest:
              description: "ONLYOFFICE Edit Document Request"
            OnlyOfficeDocumentResponse:
              type: "object"
              properties:
                config:
                  $ref: "#/components/schemas/OnlyOfficeConfig"
            OnlyOfficeConfig:
              type: "object"
              properties:
                onlyOfficeUrl:
                  description: "URL of the ONLYOFFICE application"
                  type: "string"                    
                token:
                  description: "ONLYOFFICE security token"
                  type: "string"
                documentType:
                  description: "Type of document (https://api.onlyoffice.com/editors/config/)"
                  type: "string"
                editorConfig:
                  $ref: "#/components/schemas/OnlyOfficeEditorConfig"
                document:
                  $ref: "#/components/schemas/OnlyOfficeConfigDocument"
            OnlyOfficeEditorConfig:
              type: "object"
              properties:
                callbackUrl:
                  type: "string"
            OnlyOfficeConfigDocument:
              type: "object"
              properties:
                url:
                  description: "Defines the absolute URL where the source viewed or edited document is stored"
                  type: "string"
                title:
                  description: "Defines the desired file name for the viewed or edited document"
                  type: "string"
                key:
                  description: "Defines the unique document identifier used by the service to recognize the document"
                  type: "string"
                fileType:
                  description: "Defines the type of the file for the source viewed or edited document"
                  type: "string"
            OnlyOfficeDocumentSaveResponse:
              type: "object"
              properties:
                message:
                  type: "string"
            EsignatureDocusignRequest:
              type: "object"
              properties:
                emailSubject:
                  type: "string"
                  description: "Email Subject"
                status:
                  type: "string"
                  description: "The status of the request"
                  enum:
                    - created
                    - sent
                developmentMode:
                  type: "boolean"
                  description: "Whether to enable developer mode"
                signers:
                  type: "array"
                  description: "List of DocuSign Signers"
                  items:
                    $ref: "#/components/schemas/EsignatureDocusignSigner"
                carbonCopies:
                  type: "array"
                  description: "List of DocuSign Carbon Copies"
                  items:
                    $ref: "#/components/schemas/EsignatureDocusignCarbonCopy"
                recipientTabs:
                  type: "array"
                  description: "List of DocuSign Recipient Tabs"
                  items:
                    $ref: "#/components/schemas/EsignatureDocusignRecipientTab"
            EsignatureDocusignSigner:
              type: "object"
              properties:
                name:
                  type: "string"
                  description: "Name of Signer"
                email:
                  type: "string"
                  description: "Email of Signer"
            EsignatureDocusignCarbonCopy:
              type: "object"
              properties:
                name:
                  type: "string"
                  description: "Name of Signer"
                email:
                  type: "string"
                  description: "Email of Signer"
            EsignatureDocusignRecipientTab:
              type: "object"
              properties:
                type:
                  type: "string"
                  description: "Type of Recipient"
                  enum:
                    - signHere
                pageNumber:
                  type: "string"
                  description: "Document Page Number"
                positionX:
                  type: "string"
                  description: "Element X Position"
                positionY:
                  type: "string"
                  description: "Element Y Position"
            EsignatureDocusignResponse:
              type: "object"
              properties:
                redirect_url:
                  type: "string"
                  description: "Redirect Url to complete DocuSign workflow"
                message:
                  type: "string"
                  description: "Result message"
            EsignatureDocusignConfigResponse:
              type: "object"
              properties:
                configured:
                  type: "boolean"
                  description: "Whether DocuSign is configured"
                userId:
                  type: "string"
                  description: "DocuSign UserId configured"
                clientId:
                  type: "string"
                  description: "DocuSign Client configured"
            EsignatureSetDocusignConfigRequest:
              type: "object"
              required:
              - privateKey
              - userId
              - clientId
              properties:
                privateKey:
                  type: "string"
                  description: "DocuSign App RSA PRIVATE KEY"
                userId:
                  type: "string"
                  description: "DocuSign App UserId"
                clientId:
                  type: "string"
                  description: "DocuSign App Client"
            EsignatureSetDocusignConfigResponse:
              type: "object"
              properties:
                message:
                  type: "string"
                  description: "Message response"
          securitySchemes:
            ApiAuthorization:
              type: apiKey
              name: Authorization
              in: header
              x-amazon-apigateway-authtype: awsSigv4
          x-amazon-apigateway-integrations:
            lambdaApi200:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "200"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Methods: "'*'"
                    method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
                    method.response.header.Access-Control-Allow-Origin: "'*'"
              passthroughBehavior: "when_no_templates"
              httpMethod: "POST"
              type: "aws_proxy"
              payloadFormatVersion: "1.0"
            ocrLambdaApi200:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "200"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Methods: "'*'"
                    method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
                    method.response.header.Access-Control-Allow-Origin: "'*'"
              passthroughBehavior: "when_no_templates"
              httpMethod: "POST"
              type: "aws_proxy"
              payloadFormatVersion: "1.0"
            antivirusLambdaApi200:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "200"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Methods: "'*'"
                    method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
                    method.response.header.Access-Control-Allow-Origin: "'*'"
              passthroughBehavior: "when_no_templates"
              httpMethod: "POST"
              type: "aws_proxy"
              payloadFormatVersion: "1.0"
            searchLambdaApi200:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "200"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Methods: "'*'"
                    method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
                    method.response.header.Access-Control-Allow-Origin: "'*'"
              passthroughBehavior: "when_no_templates"
              httpMethod: "POST"
              type: "aws_proxy"
              payloadFormatVersion: "1.0"            
            fulltextLambdaApi200:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "200"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Methods: "'*'"
                    method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
                    method.response.header.Access-Control-Allow-Origin: "'*'"
              passthroughBehavior: "when_no_templates"
              httpMethod: "POST"
              type: "aws_proxy"
              payloadFormatVersion: "1.0"
            onlyOfficeLambdaApi200:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "200"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Methods: "'*'"
                    method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
                    method.response.header.Access-Control-Allow-Origin: "'*'"
              passthroughBehavior: "when_no_templates"
              httpMethod: "POST"
              type: "aws_proxy"
              payloadFormatVersion: "1.0"
            esignatureLambdaApi200:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "200"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Methods: "'*'"
                    method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
                    method.response.header.Access-Control-Allow-Origin: "'*'"
              passthroughBehavior: "when_no_templates"
              httpMethod: "POST"
              type: "aws_proxy"
              payloadFormatVersion: "1.0"
            lambdaApi201:
              uri:
                Fn::Sub: "arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${DocumentsApiRequests.Arn}/invocations"
              responses:
                default:
                  statusCode: "201"
                  responseParameters:
                    method.response.header.Access-Control-Allow-Headers: '''Content-Type,X-Amz-Date,Authorization,X-Api-Key'''
                    method.response.header.Access-Control-Allow-Methods: '''*'''
                    method.response.header.Access-Control-Allow-Origin: '''*'''
              passthroughBehavior: WHEN_NO_TEMPLATES
              httpMethod: POST
              type: aws_proxy
              payloadFormatVersion: "1.0"
        x-amazon-apigateway-gateway-responses:
          UNAUTHORIZED:
            statusCode: 401
            responseParameters:
              gatewayresponse.header.Access-Control-Allow-Methods: "'*'"
              gatewayresponse.header.Access-Control-Allow-Origin: "'*'"
              gatewayresponse.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'"
        x-amazon-apigateway-cors:
          allowOrigins:
          - "*"
          maxAge: 3600
          allowMethods:
          - "*"
          allowHeaders:
          - "*"